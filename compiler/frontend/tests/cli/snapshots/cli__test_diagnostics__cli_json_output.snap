---
source: tests/cli/test_diagnostics.rs
assertion_line: 55
expression: json_line
---
{"command":"Check","phase":"Reporting","run_id":"00000000-0000-0000-0000-000000000000","diagnostics":[{"audit":{"audit_id":"00000000-0000-0000-0000-000000000001","capability":"core.diagnostics","change_set":null,"metadata":{"event.kind":"parser.diagnostic","pipeline.outcome":"failure"}},"audit_metadata":{"effect.stage.actual":"beta","effect.stage.required":"beta","pipeline.stage":"diagnostics"},"code":"parser.syntax.expected_tokens","codes":["parser.syntax.expected_tokens","parser.recovery.entered"],"domain":"parser","expected":{"alternatives":[{"kind":"token","value":";"},{"kind":"token","value":"}"}],"humanized":"ここで`;` または `}` のいずれかが必要です","locale_args":[";","}"],"message_key":"parse.expected"},"extensions":{"effects.contract.capability":"core.diagnostics","effects.contract.stage":"beta","parser.stream.chunk_size":0},"fixits":[],"hints":[],"id":"11111111-1111-1111-1111-111111111111","location":{"column":1,"endColumn":2,"endLine":1,"file":"tests/fixtures/sample.reml","line":1},"message":"文の末尾にセミコロンが必要です","notes":[{"label":"recover.expected_tokens","message":"ここで`;` または `}` のいずれかが必要です"}],"primary":{"end_col":2,"end_line":1,"file":"tests/fixtures/sample.reml","start_col":1,"start_line":1},"recoverability":"rollback","schema_version":"3.0.0-alpha","secondary":[],"severity":"error","severity_hint":"rollback","span_trace":[{"label":"syntax:expr::block","span":{"end_col":2,"end_line":1,"file":"tests/fixtures/sample.reml","snippet":"let missing =","start_col":1,"start_line":1}}],"structured_hints":[{"actions":[{"kind":"insert","range":{"end_col":1,"end_line":1,"file":"tests/fixtures/sample.reml","start_col":1,"start_line":1},"text":";"}],"id":"apply-semicolon","kind":"quick_fix","payload":{"arguments":{"text":";"},"command":"reml.applyFix"},"span":{"end_col":1,"end_line":1,"file":"tests/fixtures/sample.reml","start_col":1,"start_line":1},"title":"セミコロンを追加"}],"timestamp":"2025-01-01T00:00:00Z"}],"summary":{"inputs":["tests/fixtures/sample.reml"],"started_at":"2025-01-01T00:00:00Z","finished_at":"2025-01-01T00:00:01Z","artifact":"diagnostics.json","stats":{"effects.stage.audit_presence":{"actual":"beta","required":"beta"},"parser.expected_tokens":{"notes":1,"total":2}},"dsl_embeddings":[]},"exit_code":{"label":"warning","value":2}}
