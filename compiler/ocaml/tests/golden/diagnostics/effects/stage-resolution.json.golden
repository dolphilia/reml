{
  "diagnostics": [
    {
      "code": "effects.stage_resolution.report",
      "severity": "info",
      "domain": "type",
      "message": "効果 Stage 解決結果のスナップショット",
      "notes": [],
      "location": {
        "file": "",
        "line": 0,
        "column": 0,
        "endLine": 0,
        "endColumn": 0
      },
      "extensions": {
        "effects": {
          "resolved": {
            "function": "fn demo",
            "declared": [
              "io"
            ],
            "residual": [],
            "stage": {
              "required": "at_least:beta",
              "actual": "beta",
              "source": "cli"
            },
            "stage_trace": [
              {
                "source": "cli_option",
                "stage": "beta",
                "note": "--effect-stage beta"
              },
              {
                "source": "env_var",
                "stage": null,
                "note": "REMLC_EFFECT_STAGE not set"
              },
              {
                "source": "typer",
                "stage": "beta",
                "capability": "core.iterator.collect"
              },
              {
                "source": "runtime",
                "stage": "beta",
                "capability": "core.iterator.collect"
              },
              {
                "source": "capability_json",
                "stage": "stable",
                "file": "tooling/runtime/capabilities/default.json"
              },
              {
                "source": "runtime_candidate",
                "stage": "beta",
                "file": "tooling/runtime/capabilities/default.json",
                "target": "x86_64-pc-windows-msvc"
              }
            ]
          },
          "inputs": {
            "cli": "beta",
            "json": null,
            "env": null
          }
        }
      },
      "timestamp": "1970-01-01T00:00:00Z",
      "audit_metadata": {
        "effect.stage.required": "at_least:beta",
        "effect.stage.actual": "beta",
        "effect.stage.source": "cli",
        "effect.stage_trace": [
          {
            "source": "cli_option",
            "stage": "beta",
            "note": "--effect-stage beta"
          },
          {
            "source": "env_var",
            "stage": null,
            "note": "REMLC_EFFECT_STAGE not set"
          },
          {
            "source": "typer",
            "stage": "beta",
            "capability": "core.iterator.collect"
          },
          {
            "source": "runtime",
            "stage": "beta",
            "capability": "core.iterator.collect"
          },
          {
            "source": "capability_json",
            "stage": "stable",
            "file": "tooling/runtime/capabilities/default.json"
          },
          {
            "source": "runtime_candidate",
            "stage": "beta",
            "file": "tooling/runtime/capabilities/default.json",
            "target": "x86_64-pc-windows-msvc"
          }
        ],
        "effect.stage.inputs": {
          "cli": "beta",
          "json": null,
          "env": null
        },
        "schema.version": "1.1",
        "audit.timestamp": "1970-01-01T00:00:00Z",
        "audit.policy.version": "phase2.5.audit.v1",
        "audit.channel": "cli",
        "audit.build_id": "19700101T000000Z",
        "audit.sequence": 0,
        "audit.source.workspace": ".",
        "cli.audit_id": "cli/19700101T000000Z#0",
        "cli.change_set": {
          "policy": "phase2.5.audit.v1",
          "origin": "cli",
          "source": {
            "build_id": "19700101T000000Z",
            "workspace": ".",
            "sequence": 0
          },
          "items": [
            {
              "kind": "cli-command",
              "command": "effects-stage-resolution"
            },
            {
              "kind": "input",
              "path": "<入力>"
            }
          ]
        }
      },
      "audit": {
        "metadata": {
          "effect.stage.required": "at_least:beta",
          "effect.stage.actual": "beta",
          "effect.stage.source": "cli",
          "effect.stage_trace": [
            {
              "source": "cli_option",
              "stage": "beta",
              "note": "--effect-stage beta"
            },
            {
              "source": "env_var",
              "stage": null,
              "note": "REMLC_EFFECT_STAGE not set"
            },
            {
              "source": "typer",
              "stage": "beta",
              "capability": "core.iterator.collect"
            },
            {
              "source": "runtime",
              "stage": "beta",
              "capability": "core.iterator.collect"
            },
            {
              "source": "capability_json",
              "stage": "stable",
              "file": "tooling/runtime/capabilities/default.json"
            },
            {
              "source": "runtime_candidate",
              "stage": "beta",
              "file": "tooling/runtime/capabilities/default.json",
              "target": "x86_64-pc-windows-msvc"
            }
          ],
          "effect.stage.inputs": {
            "cli": "beta",
            "json": null,
            "env": null
          },
          "schema.version": "1.1",
          "audit.timestamp": "1970-01-01T00:00:00Z",
          "audit.policy.version": "phase2.5.audit.v1",
          "audit.channel": "cli",
          "audit.build_id": "19700101T000000Z",
          "audit.sequence": 0,
          "audit.source.workspace": ".",
          "cli.audit_id": "cli/19700101T000000Z#0",
          "cli.change_set": {
            "policy": "phase2.5.audit.v1",
            "origin": "cli",
            "source": {
              "build_id": "19700101T000000Z",
              "workspace": ".",
              "sequence": 0
            },
            "items": [
              {
                "kind": "cli-command",
                "command": "effects-stage-resolution"
              },
              {
                "kind": "input",
                "path": "<入力>"
              }
            ]
          }
        },
        "audit_id": "cli/19700101T000000Z#0",
        "change_set": {
          "policy": "phase2.5.audit.v1",
          "origin": "cli",
          "source": {
            "build_id": "19700101T000000Z",
            "workspace": ".",
            "sequence": 0
          },
          "items": [
            {
              "kind": "cli-command",
              "command": "effects-stage-resolution"
            },
            {
              "kind": "input",
              "path": "<入力>"
            }
          ]
        }
      }
    }
  ]
}
