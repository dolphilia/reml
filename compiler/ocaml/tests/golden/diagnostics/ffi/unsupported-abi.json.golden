{
  "diagnostics": [
    {
      "severity": "error",
      "message": "外部関数 `ffi_demo` の ABI 契約がターゲットと整合していません",
      "schema_version": "2.0.0-draft",
      "location": {
        "file": "<入力>",
        "line": 1,
        "column": 1,
        "endLine": 1,
        "endColumn": 169
      },
      "code": "ffi.contract.unsupported_abi",
      "codes": [
        "ffi.contract.unsupported_abi"
      ],
      "domain": "type",
      "timestamp": "1970-01-01T00:00:00Z",
      "notes": [
        "指定された値: `system_v`",
        "要求される ABI: msvc",
        "サポートされる値: system_v, msvc, darwin_aapcs64"
      ],
      "extensions": {
        "diagnostic.v2": {
          "timestamp": "1970-01-01T00:00:00Z",
          "codes": [
            "ffi.contract.unsupported_abi"
          ]
        },
        "bridge": {
          "status": "error",
          "return": {
            "ownership": "borrowed",
            "status": "wrap",
            "wrap": "wrap_foreign_ptr",
            "release_handler": "none",
            "rc_adjustment": "none"
          },
          "block_target": "x86_64-pc-windows-msvc",
          "link_name": "ffi_demo_c",
          "expected_abi": "msvc",
          "audit_pass_rate": 0.0,
          "extern_name": "ffi_demo",
          "target": "x86_64-pc-windows-msvc",
          "arch": "x86_64",
          "platform": "windows-msvc-x64",
          "abi": "system_v",
          "ownership": "borrowed",
          "extern_symbol": "ffi_demo_c"
        }
      },
      "audit_metadata": {
        "bridge": {
          "status": "error",
          "return": {
            "ownership": "borrowed",
            "status": "wrap",
            "wrap": "wrap_foreign_ptr",
            "release_handler": "none",
            "rc_adjustment": "none"
          },
          "block_target": "x86_64-pc-windows-msvc",
          "link_name": "ffi_demo_c",
          "expected_abi": "msvc",
          "audit_pass_rate": 0.0,
          "extern_name": "ffi_demo",
          "target": "x86_64-pc-windows-msvc",
          "arch": "x86_64",
          "platform": "windows-msvc-x64",
          "abi": "system_v",
          "ownership": "borrowed",
          "extern_symbol": "ffi_demo_c"
        },
        "bridge.source_span": {
          "start": 0,
          "end": 168
        },
        "audit.policy.version": "phase2.5.audit.v1",
        "audit.channel": "cli",
        "audit.build_id": "19700101T000000Z",
        "audit.sequence": 0,
        "audit.source.workspace": ".",
        "cli.audit_id": "cli/19700101T000000Z#0",
        "cli.change_set": {
          "policy": "phase2.5.audit.v1",
          "origin": "cli",
          "source": {
            "build_id": "19700101T000000Z",
            "workspace": ".",
            "sequence": 0
          },
          "items": [
            {
              "kind": "cli-command",
              "command": "remlc-tests"
            },
            {
              "kind": "input",
              "path": "tests/golden/diagnostics/ffi/unsupported-abi.reml"
            }
          ]
        },
        "bridge.audit_pass_rate": 1.0,
        "bridge.status": "ok",
        "cli": {
          "audit_id": "cli/19700101T000000Z#0",
          "change_set": {
            "policy": "phase2.5.audit.v1",
            "origin": "cli",
            "source": {
              "build_id": "19700101T000000Z",
              "workspace": ".",
              "sequence": 0
            },
            "items": [
              {
                "kind": "cli-command",
                "command": "remlc-tests"
              },
              {
                "kind": "input",
                "path": "tests/golden/diagnostics/ffi/unsupported-abi.reml"
              }
            ]
          }
        },
        "schema.version": "1.1",
        "audit.timestamp": "1970-01-01T00:00:00Z",
        "schema": {
          "version": "1.1"
        },
        "event.domain": "type",
        "event.kind": "ffi.contract.unsupported_abi"
      },
      "audit": {
        "metadata": {
          "schema": {
            "version": "1.1"
          },
          "cli": {
            "audit_id": "cli/19700101T000000Z#0",
            "change_set": {
              "policy": "phase2.5.audit.v1",
              "origin": "cli",
              "source": {
                "build_id": "19700101T000000Z",
                "workspace": ".",
                "sequence": 0
              },
              "items": [
                {
                  "kind": "cli-command",
                  "command": "remlc-tests"
                },
                {
                  "kind": "input",
                  "path": "tests/golden/diagnostics/ffi/unsupported-abi.reml"
                }
              ]
            }
          },
          "bridge.status": "ok",
          "bridge.audit_pass_rate": 1.0,
          "cli.change_set": {
            "policy": "phase2.5.audit.v1",
            "origin": "cli",
            "source": {
              "build_id": "19700101T000000Z",
              "workspace": ".",
              "sequence": 0
            },
            "items": [
              {
                "kind": "cli-command",
                "command": "remlc-tests"
              },
              {
                "kind": "input",
                "path": "tests/golden/diagnostics/ffi/unsupported-abi.reml"
              }
            ]
          },
          "cli.audit_id": "cli/19700101T000000Z#0",
          "audit.source.workspace": ".",
          "audit.sequence": 0,
          "audit.build_id": "19700101T000000Z",
          "audit.channel": "cli",
          "audit.policy.version": "phase2.5.audit.v1",
          "bridge.source_span": {
            "start": 0,
            "end": 168
          },
          "bridge": {
            "status": "error",
            "return": {
              "ownership": "borrowed",
              "status": "wrap",
              "wrap": "wrap_foreign_ptr",
              "release_handler": "none",
              "rc_adjustment": "none"
            },
            "block_target": "x86_64-pc-windows-msvc",
            "link_name": "ffi_demo_c",
            "expected_abi": "msvc",
            "audit_pass_rate": 0.0,
            "extern_name": "ffi_demo",
            "target": "x86_64-pc-windows-msvc",
            "arch": "x86_64",
            "platform": "windows-msvc-x64",
            "abi": "system_v",
            "ownership": "borrowed",
            "extern_symbol": "ffi_demo_c"
          },
          "audit.timestamp": "1970-01-01T00:00:00Z",
          "schema.version": "1.1",
          "event.domain": "type",
          "event.kind": "ffi.contract.unsupported_abi"
        },
        "audit_id": "cli/19700101T000000Z#0",
        "change_set": {
          "policy": "phase2.5.audit.v1",
          "origin": "cli",
          "source": {
            "build_id": "19700101T000000Z",
            "workspace": ".",
            "sequence": 0
          },
          "items": [
            {
              "kind": "cli-command",
              "command": "remlc-tests"
            },
            {
              "kind": "input",
              "path": "tests/golden/diagnostics/ffi/unsupported-abi.reml"
            }
          ]
        }
      }
    }
  ]
}
