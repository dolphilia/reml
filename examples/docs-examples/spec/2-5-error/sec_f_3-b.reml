fn toStructuredLog(diag: Diagnostic) -> Json =
  toJson([
    ("event", "reml.error"),
    ("domain", diag.domain),
    ("code", diag.code),
    ("severity", diag.severity),
    ("severity_hint", diag.severity_hint),
    ("message", diag.message),
    ("extensions", diag.extensions),
    ("notes", diag.notes),
    ("fixits", diag.fixits)
  ])
