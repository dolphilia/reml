# 4.5 後方互換チェックリスト実施計画

## 目的
- Phase 4 で OCaml 実装を LTS 化する前に、後方互換チェックリストを運用し、セルフホスト版が必要条件（IR 一致率 95% 以上、診断 100%、性能 ±5%）を満たすことを確認する。
- チェックリストと結果を `0-3-audit-and-metrics.md` に記録し、コミュニティへ透明性を提供する。

## スコープ
- **含む**: チェックリスト策定、検証自動化、レビュー記録、LTS ブランチ化計画、アーカイブ手順。
- **含まない**: 新規機能検証、セキュリティ監査。必要に応じて別途実施。
- **前提**: 互換性検証・リリースパイプラインが整備され、測定基盤が存在する。

## 作業ブレークダウン
1. **チェックリスト整備**: `0-3-audit-and-metrics.md` にリストを追加し、各項目の測定手順・閾値・担当者を定義。
2. **自動化スクリプト**: LLVM IR 差分・診断比較・性能測定を自動で集約するスクリプトを作成。
3. **検証実行**: セルフホスト版と OCaml 版でチェックリストを実行し、結果を記録。
4. **レビュー会議**: 結果をレビューし、合格/猶予/改善項目を決定。未達の場合はフォローアップを `0-4-risk-handling.md` に登録。
5. **LTS ブランチ化**: OCaml 実装を LTS ブランチへ移行し、サポート範囲・期間をドキュメント化。
6. **アーカイブ告知**: コミュニティへ移行スケジュール・代替手順を通知。

## 成果物と検証
- チェックリスト結果が公開され、各項目が達成・未達ともに明示される。
- LTS ブランチが作成され、保守ポリシーが文書化される。
- コミュニティへの告知が完了し、フィードバック窓口が案内される。

## リスクとフォローアップ
- 測定環境の違いで結果がぶれる場合は再計測し、メトリクス取得方法を統一。
- 未達成項目が残る場合はリリースまでの改善計画を立案し、`0-4-risk-handling.md` でステータス管理。
- LTS サポートの負荷が高い場合、サポート頻度と SLA を再評価する。

## 参考資料
- [4-0-phase4-migration.md](4-0-phase4-migration.md)
- [0-3-audit-and-metrics.md](0-3-audit-and-metrics.md)
- [0-4-risk-handling.md](0-4-risk-handling.md)
- [notes/llvm-spec-status-survey.md](../../notes/llvm-spec-status-survey.md)

