# 2.5 仕様差分補正計画

## 目的
- Phase 2 で仕様書 (Chapter 1〜3) と実装の差分を洗い出し、記述ゆれ・不足項目を補正する。
- 更新内容を `0-3-audit-and-metrics.md` および計画書に脚注として残し、将来のレビュートレイルを確保する。

## スコープ
- **含む**: 仕様レビュー、差分リストの作成、関連ドキュメントの更新 (本文・用語集・脚注)、メトリクス記録。
- **含まない**: 新機能追加、仕様の大規模刷新。必要な場合は別タスクとして起票。
- **前提**: Phase 2 の実装タスク（型クラス、効果、FFI、診断）が概ね完了し、差分が明確になっていること。

## 作業ブレークダウン
1. **差分レビュー計画**: Chapter 1〜3 の担当者とスケジュールを決め、レビュー観点チェックリストを `0-3-audit-and-metrics.md` に記録。
2. **差分抽出**: 実装と仕様を突き合わせ、用語・サンプル・データ構造の差異をリストアップ。
3. **修正案作成**: 各差分について修正案を Markdown で作成し、レビュアに提示。
4. **ドキュメント更新**: 主文書に反映し、必要に応じて脚注と TODO を追加。
5. **クロス参照更新**: `README.md`、`0-0-overview.md`、`0-2-project-purpose.md`など索引系ドキュメントのリンクを更新。
6. **記録と共有**: 差分処理の結果を `0-3-audit-and-metrics.md` に記録し、追加レビューが必要な項目は `0-4-risk-handling.md` に登録。

## 成果物と検証
- 差分リストが公開され、レビュー記録が残っていること。
- 更新されたドキュメントが CI のリンクチェック（存在する場合）や手動確認で問題ないこと。
- 索引類が最新のリンクを指し、リンク切れがゼロであること。

## リスクとフォローアップ
- レビュー負荷が高い場合はフェーズ内で優先順位を付け、セルフホスト移行に影響する項目を先行対応。
- 新たな仕様変更案が発生した場合、Phase 3 のドキュメントフィードバックタスクと連携し調整。
- 差分が大きい場合は補足ノートを `notes/` 以下に作成し、計画的に反映する。

## 参考資料
- [2-0-phase2-stabilization.md](2-0-phase2-stabilization.md)
- [0-0-overview.md](../../0-0-overview.md)
- [0-3-audit-and-metrics.md](0-3-audit-and-metrics.md)
- [0-4-risk-handling.md](0-4-risk-handling.md)

