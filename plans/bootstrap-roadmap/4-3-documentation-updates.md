# 4.3 ドキュメント更新計画

## 目的
- Phase 4 マイルストーン M3 を支援するため、`README.md`・`0-0-overview.md`・`guides/llvm-integration-notes.md` など主要ドキュメントをセルフホスト版前提に更新する。
- 正式ターゲット (Linux > Windows > macOS) と配布経路を明示し、コミュニティへ周知する。

## スコープ
- **含む**: ドキュメント更新、索引リンク調整、リリースノートとの整合、周知計画。
- **含まない**: 外部サイト更新、翻訳。必要に応じて別計画。
- **前提**: リリースパイプラインが整備され、セルフホスト成果物が利用可能。

## 作業ブレークダウン

### 1. 更新対象の棚卸しと優先順位付け（82-83週目）
**担当領域**: ドキュメント分析

1.1. **更新対象ファイルのリスト化**
- コアドキュメント: `README.md`、`0-0-overview.md`、`0-1-project-purpose.md`
- ガイド類: `guides/llvm-integration-notes.md`、`guides/plugin-authoring.md`、`guides/runtime-bridges.md`
- 標準ライブラリ仕様: `3-8-core-runtime-capability.md`、`3-10-core-env.md`
- エコシステム: `5-1-package-manager-cli.md`、`5-2-registry-distribution.md`、`5-3-developer-toolchain.md`

1.2. **変更内容の分類**
- **Critical**: OCaml実装 → セルフホスト版への移行、ターゲット情報の更新
- **High**: インストール手順、ダウンロードリンク、署名検証
- **Medium**: サンプルコード、リファレンス、用語統一
- **Low**: 脚注追加、参照リンク、軽微な修正

1.3. **影響範囲分析**
- セルフホスト版への移行による影響（全ドキュメント）
- マルチターゲット対応による影響（ターゲット固有の記述）
- 配布方法の変更による影響（ダウンロード、インストール手順）
- 後方互換性への影響（OCaml実装のLTS化）

1.4. **更新計画の作成**
- 優先順位別のタスクリスト作成
- 担当者割当（領域別）
- スケジュール調整（Phase 4-2、4-4との連携）
- レビュープロセスの定義

**成果物**: 更新対象リスト、優先度分類、影響範囲マップ、更新計画書

### 2. README/Overview 更新（83-84週目）
**担当領域**: プロジェクト概要

2.1. **README.md の更新**
- プロジェクト説明のセルフホスト版前提への更新
- インストール手順の刷新（3ターゲット対応）
- クイックスタートの更新（最新CLI、サンプル）
- ビルドバッジの更新（CI Status、リリース情報）

2.2. **0-0-overview.md の更新**
- 言語概要の最新化（Phase 3実装反映）
- アーキテクチャ図の更新（セルフホストコンパイラ）
- 主要機能リストの追加・修正
- パフォーマンス指標の更新（Phase 3ベンチマーク結果）

2.3. **0-1-project-purpose.md の確認**
- プロジェクト目的の再確認（変更不要か確認）
- 用語統一の最終チェック
- セルフホスト版の位置付け明記
- 将来計画の更新（Phase 4以降）

2.4. **相互参照の整合**
- ファイル間リンクの確認
- 仕様書へのリンク更新
- サンプルコードへのリンク整合
- ブロークンリンクの修正

**成果物**: 更新済み README.md、0-0-overview.md、0-1-project-purpose.md

### 3. ガイド類の更新（84-85週目）
**担当領域**: 技術ドキュメント

3.1. **guides/llvm-integration-notes.md の更新**
- セルフホスト版でのLLVM統合詳細
- マルチターゲット対応の実装パターン
- Phase 3で判明した最適化テクニック
- トラブルシューティング情報の追加

3.2. **guides/plugin-authoring.md の更新**
- セルフホスト版ABI前提でのプラグイン開発
- マルチターゲット対応の注意点
- Capability システムとの統合
- 移行ガイド（OCaml版からの移行）

3.3. **guides/runtime-bridges.md の更新**
- ランタイムブリッジの実装詳細（Phase 3反映）
- ターゲット別の実装差分
- FFI契約の最新化
- デバッグ手法の追加

3.4. **新規ガイドの検討**
- 必要に応じて `guides/self-host-migration-guide.md` 作成
- セルフホスト版への移行手順
- OCaml版との差異一覧
- よくある質問（FAQ）

**成果物**: 更新済みガイド類、新規ガイド（必要に応じて）

### 4. ターゲット情報の追記（85週目）
**担当領域**: プラットフォーム対応

4.1. **正式サポートターゲットの明記**
- 3ターゲットの明示（x86_64 Linux、Windows x64、ARM64 macOS）
- 優先順位の記載（Linux > Windows > macOS）
- 各ターゲットのサポート範囲
- 将来ターゲット（WASM等）の計画

4.2. **ターゲット別の注意事項**
- OS固有の依存関係（ライブラリ、ツール）
- インストール手順の差異
- 環境変数設定の違い
- トラブルシューティング（ターゲット別）

4.3. **クロスコンパイル情報**
- クロスコンパイル機能の説明（3-3参照）
- ターゲット指定方法（`--target` フラグ）
- クロスビルド環境のセットアップ
- 制限事項と既知の問題

4.4. **仕様書への反映**
- `1-1-syntax.md` への `@cfg` 構文最終確認
- `3-10-core-env.md` へのターゲット検出機能追記
- `5-3-developer-toolchain.md` へのターゲット別ツール情報
- サンプルコードの追加・更新

**成果物**: ターゲット情報文書、更新済み仕様書

### 5. ダウンロード・インストール手順の作成（85-86週目前半）
**担当領域**: ユーザーガイド

5.1. **ダウンロードページの作成**
- 最新版へのリンク（GitHub Releases）
- バージョン別のダウンロードリンク
- ターゲット別アーカイブの説明
- ファイルサイズとチェックサム情報

5.2. **インストール手順（ターゲット別）**
- Linux: `.tar.gz` 展開、PATH設定、依存関係インストール
- Windows: `.zip` 展開、環境変数設定、Visual C++ Redistributable
- macOS: `.tar.gz` 展開、PATH設定、Gatekeeper対応

5.3. **署名検証手順**
- GPG署名検証（Linux）: 公開鍵インポート、`gpg --verify`
- Authenticode署名検証（Windows）: プロパティ画面での確認
- Notarization検証（macOS）: `spctl --assess` コマンド
- チェックサム検証（全ターゲット）: `sha256sum` / `certutil` / `shasum`

5.4. **動作確認とトラブルシューティング**
- バージョン確認（`remlc --version`）
- Hello Worldのコンパイルと実行
- よくある問題と解決策
- サポート窓口情報（4-6と連携）

**成果物**: ダウンロード案内、インストールガイド、署名検証手順

### 6. 相互参照とリンク検証（86週目前半）
**担当領域**: ドキュメント整合性

6.1. **リンク検証ツールの実行**
- 自動リンクチェック（`markdown-link-check` 等）
- ブロークンリンクの検出と修正
- 相対パスの正確性確認
- アンカーリンクの動作確認

6.2. **索引の更新**
- `README.md` の目次更新
- セクション構成の見直し
- 新規追加ドキュメントの反映
- 削除・移動したセクションの整理

6.3. **用語統一の確認**
- `0-2-glossary.md` との整合性
- 新規用語の追加
- 表記ゆれの統一（ツールによる自動検出）
- 外来語の原語併記ルール徹底

6.4. **サンプルコードの検証**
- 仕様書内サンプルの動作確認（実際にコンパイル・実行）
- エラーメッセージの最新化
- 非推奨機能の削除または明示
- コメントの充実

**成果物**: リンク検証レポート、更新済み索引、統一された用語

### 7. レビューと承認（86週目中盤）
**担当領域**: 品質保証

7.1. **レビュープロセス実行**
- 領域別レビュア割当（Parser/Type/Runtime/Ecosystem）
- レビュー資料の配布（差分、更新サマリ）
- レビュー会議の開催（オンライン/オフライン）
- フィードバック収集と議論

7.2. **修正反映**
- レビューコメントの分類（必須/推奨/オプション）
- 必須修正の実施
- 推奨修正の評価と実施判断
- 再レビュー依頼

7.3. **承認記録**
- レビュアによる最終承認
- `0-3-audit-and-metrics.md` への記録
- 承認日時、レビュア名、承認コメント
- 未承認項目の Phase 4 以降への延期判断

7.4. **マージと公開準備**
- main ブランチへのマージ
- バージョンタグの付与（docs-v1.0 等）
- 変更履歴の記録（CHANGELOG.md）
- コミュニティ告知との連携（次ステップ）

**成果物**: レビュー記録、承認済みドキュメント、マージ済みブランチ

### 8. コミュニティ告知準備とドキュメント公開（86週目後半）
**担当領域**: 広報とコミュニケーション

8.1. **変更サマリの作成**
- 主要な変更点のハイライト
- セルフホスト版移行の説明
- マルチターゲット対応の告知
- OCaml実装のLTS化に関する情報

8.2. **告知文の草案作成**
- コミュニティフォーラム投稿案
- メーリングリスト告知案
- ソーシャルメディア投稿案（Twitter/Mastodon等）
- ブログ記事案（オプション）

8.3. **FAQ の整備**
- セルフホスト版に関するFAQ
- 移行に関するFAQ
- ターゲット対応に関するFAQ
- `notes/` またはドキュメントに追加

8.4. **公開とフォローアップ**
- ドキュメントの正式公開
- コミュニティへの告知実行（4-4と連携）
- 初期フィードバックの監視
- 迅速な修正対応（誤字、リンク切れ等）

**成果物**: 変更サマリ、告知文草案、FAQ、公開済みドキュメント

## 成果物と検証
- 更新されたドキュメントがレビューを通過し、リンク切れが無い。
- セルフホスト版の利用手順が明確で、OS 別の注意事項が整理されている。
- サマリをコミュニティへ通知する準備が整う。
- 全ドキュメントが `0-3-audit-and-metrics.md` に記録され、レビュー履歴が追跡可能。

## リスクとフォローアップ
- ドキュメント量が多いため、優先順位を設定し分割してレビュー。
- コミュニティ周知が遅れると移行が滞る可能性があるため、告知計画を早期に準備。
- 翻訳が必要な場合に備え、用語統一を `0-2-glossary.md` と同期。
- サンプルコードの検証でエラーが発生した場合、仕様書または実装の修正を検討し、`0-4-risk-handling.md` に記録。
- リンクチェックツールで検出されないエラー（アンカーの不一致等）に対応するため、手動レビューも並行実施。

## 参考資料
- [4-0-phase4-migration.md](4-0-phase4-migration.md)
- [4-2-multitarget-release-pipeline.md](4-2-multitarget-release-pipeline.md)
- [4-4-ecosystem-migration.md](4-4-ecosystem-migration.md)
- [3-8-doc-spec-feedback.md](3-8-doc-spec-feedback.md)
- [0-0-overview.md](../../0-0-overview.md)
- [0-2-glossary.md](../../0-2-glossary.md)
- [README.md](../../README.md)
- [guides/llvm-integration-notes.md](../../guides/llvm-integration-notes.md)
- [guides/plugin-authoring.md](../../guides/plugin-authoring.md)
- [guides/runtime-bridges.md](../../guides/runtime-bridges.md)
- [0-3-audit-and-metrics.md](0-3-audit-and-metrics.md)
- [0-4-risk-handling.md](0-4-risk-handling.md)

