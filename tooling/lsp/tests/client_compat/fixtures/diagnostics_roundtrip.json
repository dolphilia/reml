[
  {
    "schema_version": "3.0.0-alpha",
    "timestamp": "2025-01-01T00:00:00Z",
    "id": "11111111-1111-1111-1111-111111111111",
    "message": "文の末尾にセミコロンが必要です",
    "severity": "error",
    "severity_hint": "rollback",
    "domain": "parser",
    "primary": {
      "file": "file:///workspace/tests/sample.reml",
      "start_line": 1,
      "start_col": 1,
      "end_line": 1,
      "end_col": 2
    },
    "location": {
      "file": "file:///workspace/tests/sample.reml",
      "line": 1,
      "column": 1,
      "endLine": 1,
      "endColumn": 2
    },
    "span_trace": [
      {
        "label": "syntax:expr::block",
        "span": {
          "file": "file:///workspace/tests/sample.reml",
          "start_line": 1,
          "start_col": 1,
          "end_line": 1,
          "end_col": 2,
          "snippet": "let missing ="
        }
      }
    ],
    "extensions": {
      "parser.stream.chunk_size": 0,
      "effects.contract.capability": "core.diagnostics",
      "effects.contract.stage": "beta"
    },
    "audit_metadata": {
      "pipeline.stage": "diagnostics",
      "effect.stage.required": "beta",
      "effect.stage.actual": "beta"
    },
    "audit": {
      "metadata": {
        "event.kind": "parser.diagnostic",
        "pipeline.outcome": "failure"
      },
      "audit_id": "00000000-0000-0000-0000-000000000001",
      "change_set": null,
      "capability": "core.diagnostics"
    },
    "notes": [
      {
        "label": "recover.expected_tokens",
        "message": "ここで`;` または `}` のいずれかが必要です"
      }
    ],
    "secondary": [],
    "hints": [],
    "structured_hints": [
      {
        "id": "apply-semicolon",
        "title": "セミコロンを追加",
        "kind": "quick_fix",
        "span": {
          "file": "file:///workspace/tests/sample.reml",
          "start_line": 1,
          "start_col": 1,
          "end_line": 1,
          "end_col": 1
        },
        "payload": {
          "command": "reml.applyFix",
          "arguments": {
            "text": ";"
          }
        },
        "actions": [
          {
            "kind": "insert",
            "range": {
              "file": "file:///workspace/tests/sample.reml",
              "start_line": 1,
              "start_col": 1,
              "end_line": 1,
              "end_col": 1
            },
            "text": ";"
          }
        ]
      }
    ],
    "fixits": [],
    "recoverability": "rollback",
    "code": "parser.syntax.expected_tokens",
    "codes": ["parser.syntax.expected_tokens", "parser.recovery.entered"],
    "expected": {
      "message_key": "parse.expected",
      "humanized": "ここで`;` または `}` のいずれかが必要です",
      "alternatives": [
        { "kind": "token", "value": ";" },
        { "kind": "token", "value": "}" }
      ],
      "locale_args": [";", "}"]
    }
  }
]
